!function(e){var t=function(t){e(".icons",t).selectize({sortField:"text"}).removeClass("icons")};e(document).ready(function(){e(".action-new").on("click",function(){var a=e(".clonable").clone(),n=Math.floor(100*Math.random())+1,l="acc-"+n;a.removeClass("clonable"),a.find(".in").removeClass("in"),a.find("#acc-1").attr("id",l),a.find("[href=#acc-1]").attr("href","#"+l),e("#repeatable").append(a),a.show(),t(a)}),e(".action-new").trigger("click"),e("#repeatable").sortable({revert:!0}),e(document).on("click",".action-remove",function(){var t=e(this).closest(".panel"),a=e("#repeatable").find(".panel").length;if(2!=a){var n=confirm("Are Your sure");1==n&&t.remove()}else alert("Hey Dude! You can't delete last item :)")}),e(document).on("keyup",".title",function(){var t=e(this).val();e(this).closest(".panel").find(".panel-title > a  > .tx-title").text(t),0==!t.length&&e(this).closest(".panel").hasClass("panel-danger")&&e(this).closest(".panel").removeClass("panel-danger").addClass("panel-default")}),e(document).on("change",".selectized",function(){var t=e("i").attr("class"),a=e(this).val();t!==a&&(e(this).closest(".panel").find("#title-icon").removeClass(t),e(this).closest(".panel").find("#title-icon").addClass("fa fa-"+a))}),e(document).on("click",".action-insert",function(){var t=e(".presets").val(),a=$title=$content=$icon="",n=!0;e(".panel").each(function(){e(this).hasClass("clonable")||($title=e(this).find(".title").val(),$content=e(this).find(".content").val(),$icon=e(this).find(".selectized").val(),0==$title.length||0==$content.length?(e(this).removeClass("panel-default").addClass("panel-danger"),n=!1):e(this).removeClass("panel-danger").addClass("panel-default "),a+='[xa_slide title="'+$title+'" icon="'+$icon+'"]'+$content+"[/xa_slide]")}),n&&(wp.media.editor.insert('[xa_acc style="'+t+'" ]'+a+"[/xa_acc]"),e("#xa-modal").modal("hide"))}),e(".panel-collapse").hasClass("in")||e(".panel-collapse").addClass("in")}),e(document).on("change",".presets",function(){var t=e("#repeatable").attr("class"),a=e(this).val();t!==a&&(e(this).next("#repeatable").removeClass(t),e(this).next("#repeatable").addClass("panel-group ui-sortable "+a))})}(jQuery);